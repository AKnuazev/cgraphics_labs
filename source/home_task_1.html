<html>

<head>

</head>

<style>
    body {
        background: #ecf7fa;

    }

    h1 {
        text-align: center;
        font: 300% calibri;
    }

    canvas {

        display: block;
        margin-left: auto;
        margin-right: auto;
        border: 4px solid #3f86cc;
        border-radius: 50px;
        background: #ffffff;
    }
</style>

<body>
    <h1>Lab 1. Movement and drawing</h1>

    <canvas width='1000' height='500' id="lab01"> </canvas>

    <script>
        var canvas = document.getElementById('lab01');
        var ctx = canvas.getContext('2d');

        function draw_rect(move_counter) {
            ctx.fillStyle = '#3f86cc';
            ctx.shadowColor = '#d6e7f8';
            ctx.shadowOffsetX = 10;
            ctx.shadowOffsetY = 10;

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillRect(10 + move_counter * 10, 60 + Math.sin(10 + move_counter) * 40, 100, 100)

        }

        function draw_house() {
            var start_point = [450, 300];
            var width = 100;

            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;

            /*Walls*/
            ctx.fillStyle = '#3f86cc';
            for (let i = 0; i <= width; i++) {
                ctx.fillRect(start_point[0], start_point[1] + i, 10, 10);
                ctx.fillRect(start_point[0] + width, start_point[1] + width - i, 10, 10);
                ctx.fillRect(start_point[0] + width - i, start_point[1] + width, 10, 10);
            }

            /*Roof*/
            ctx.fillStyle = '#70b2e5';
            for (let i = 0; i <= width; i++) {
                ctx.fillRect(start_point[0] + i, start_point[1], 10, 10);
            }
            for (let i = 0; i <= width / 2; i++) {
                ctx.fillRect(start_point[0] + i, start_point[1] - i/1.5, 10, 10);
                ctx.fillRect(start_point[0] + width - i, start_point[1] - i/1.5, 10, 10);
            }

            /*Door*/
            ctx.fillStyle = '#3f86cc';
            var door_width = 30;
            var door_height = 60;

            for (let i = 0; i <= door_height; i++) {
                ctx.fillRect(start_point[0] + width / 2 - door_width / 2, start_point[1] + width - i, 10, 10);
                ctx.fillRect(start_point[0] + width / 2 + door_width / 2, start_point[1] + width - i, 10, 10);
            }

            for (let i = 0; i < door_width; i++) {
                ctx.fillRect(start_point[0] + width / 2 - door_width / 2 + i, start_point[1] + width - door_height, 10, 10);
            }
        }

        var move_counter = 0;

        setInterval(function () {
            draw_rect(move_counter);
            draw_house();

            move_counter += 0.05; /*speed*/

        }, 7);

    </script>

</body>

</html>